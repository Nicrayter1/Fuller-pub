<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üç∏ Fuller Pub - –£—á–µ—Ç —Å—Ç–æ–∫–æ–≤</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üç∏</text></svg>">
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- –®–ê–ü–ö–ê -->
        <div class="app-header" id="appHeader" style="display: none;">
            <div class="app-title">
                <span style="font-size: 28px;">üç∏</span>
                <h1>Fuller Pub - –£—á–µ—Ç —Å—Ç–æ–∫–æ–≤</h1>
            </div>
            <div class="user-info" id="userInfo">
                <div class="user-avatar" id="userAvatar">U</div>
                <div>
                    <div id="userName">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</div>
                    <div style="font-size: 12px; opacity: 0.8;" id="userRole">–ë–∞—Ä–º–µ–Ω</div>
                </div>
                <button class="btn btn-sm btn-secondary" onclick="logout()" style="margin-left: 15px;">
                    –í—ã–π—Ç–∏
                </button>
            </div>
        </div>

        <!-- –û–°–ù–û–í–ù–û–ï –°–û–î–ï–†–ñ–ò–ú–û–ï -->
        <div class="main-content">
            <!-- –≠–ö–†–ê–ù –í–•–û–î–ê -->
            <div id="loginScreen">
                <div class="login-card">
                    <div class="login-logo">üç∏</div>
                    <h1 class="login-title">Fuller Pub</h1>
                    <p class="login-subtitle">–°–∏—Å—Ç–µ–º–∞ —É—á–µ—Ç–∞ –∞–ª–∫–æ–≥–æ–ª—å–Ω—ã—Ö —Å—Ç–æ–∫–æ–≤</p>
                    
                    <div class="alert" id="loginAlert"></div>
                    
                    <form id="loginForm">
                        <div class="form-group">
                            <label class="form-label" for="email">Email</label>
                            <input type="email" class="form-control" id="email" required
                                   placeholder="admin@bar.com">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="password">–ü–∞—Ä–æ–ª—å</label>
                            <input type="password" class="form-control" id="password" required
                                   placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                        </div>
                        
                        <button type="submit" class="btn btn-primary btn-block" id="loginBtn">
                            <span>üîë –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É</span>
                        </button>
                    </form>
                    
                    <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
                        <h3 style="font-size: 14px; color: #666; margin-bottom: 10px;">–¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã:</h3>
                        <div style="font-size: 12px; color: #666; line-height: 1.6;">
                            <div><strong>–ê–¥–º–∏–Ω:</strong> admin@bar.com / Admin123</div>
                            <div><strong>–ë–∞—Ä–º–µ–Ω—ã (–ë–∞—Ä 1):</strong> barman1@bar.com / Barman123</div>
                            <div><strong>–ë–∞—Ä–º–µ–Ω—ã (–ë–∞—Ä 2):</strong> barman3@bar.com / Barman123</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –û–°–ù–û–í–ù–û–ô –ò–ù–¢–ï–†–§–ï–ô–° -->
            <div id="mainScreen" style="display: none;">
                <!-- –°–¢–ê–¢–£–° -->
                <div class="alert" id="mainAlert"></div>
                
                <!-- –ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–ï–ù–ò–Ø -->
                <div class="control-panel" id="controlPanel">
                    <button class="btn btn-success" onclick="openAddModal('category')">
                        <span>üìÅ</span> –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
                    </button>
                    <button class="btn btn-success" onclick="openAddModal('product')">
                        <span>‚ûï</span> –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç
                    </button>
                    <button class="btn btn-primary" onclick="refreshData()">
                        <span>üîÑ</span> –û–±–Ω–æ–≤–∏—Ç—å
                    </button>
                    <button class="btn btn-secondary" onclick="exportData()">
                        <span>üì•</span> –≠–∫—Å–ø–æ—Ä—Ç CSV
                    </button>
                </div>
                
                <!-- –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
                <div class="stats-grid" id="statsGrid">
                    <div class="stat-card">
                        <div class="stat-label">–í—Å–µ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤</div>
                        <div class="stat-value" id="statProducts">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">–ö–∞—Ç–µ–≥–æ—Ä–∏–π</div>
                        <div class="stat-value" id="statCategories">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">–ë–∞—Ä 1 –æ—Å—Ç–∞—Ç–æ–∫</div>
                        <div class="stat-value" id="statBar1">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">–ë–∞—Ä 2 –æ—Å—Ç–∞—Ç–æ–∫</div>
                        <div class="stat-value" id="statBar2">0</div>
                    </div>
                </div>
                
                <!-- –ü–û–ò–°–ö -->
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="üîç –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞...">
                </div>
                
                <!-- –ó–ê–ì–†–£–ó–ö–ê -->
                <div class="loader" id="dataLoader">
                    <div class="loader-spinner"></div>
                    <div>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</div>
                </div>
                
                <!-- –¢–ê–ë–õ–ò–¶–ê -->
                <div class="table-responsive" id="tableContainer">
                    <table id="stockTable">
                        <thead>
                            <tr>
                                <th style="width: 40%;">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</th>
                                <th style="width: 15%;">–û–±—ä–µ–º, –º–ª</th>
                                <th style="width: 20%;">–ë–∞—Ä 1 (—Ñ–∞–∫—Ç)</th>
                                <th style="width: 20%;">–ë–∞—Ä 2 (—Ñ–∞–∫—Ç)</th>
                                <th style="width: 5%;" id="actionsHeader"></th>
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                            <!-- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê -->
    <div class="modal" id="addModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" id="addModalTitle">–î–æ–±–∞–≤–∏—Ç—å</div>
                <button class="close-modal" onclick="closeAddModal()">√ó</button>
            </div>
            <div class="modal-body" id="addModalBody"></div>
        </div>
    </div>

    <div class="modal" id="infoModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" id="infoModalTitle">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
                <button class="close-modal" onclick="closeInfoModal()">√ó</button>
            </div>
            <div class="modal-body" id="infoModalBody"></div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="closeInfoModal()">OK</button>
            </div>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Ñ–∞–π–ª—ã -->
    <script src="config.js"></script>
    <script src="app.js"></script>
</body>
</html>
